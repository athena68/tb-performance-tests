# Smart Meter Device Attributes Configuration
# Utility meter for electricity, water, gas consumption monitoring

# Device information
device_info:
  device_model: ["SM-ELEC-01", "SM-WATER-01", "SM-GAS-01", "SM-UNI-02"]
  manufacturer: "UtilityTech Solutions"
  firmware_version: ["3.1.0", "3.2.0", "4.0.0"]
  serial_number:
    prefix: "SM"
    format: "{{prefix}}-{{random:100000:999999}}"

  # Device identification
  device_type: "Smart Meter"
  category: "Utility Meter"
  purpose: "Consumption Monitoring"

# Meter type specific configurations
meter_types:
  electricity:
    measurement_type: "Energy"
    units: "kWh"
    voltage_rating: "230V ±10%"
    current_rating: "100A max"
    frequency: "50Hz ±1%"
    accuracy_class: "Class 1 (1% accuracy)"

  water:
    measurement_type: "Volume"
    units: "m³"
    flow_rate_range: "0.015-15 m³/h"
    operating_pressure: "0.1-16 bar"
    temperature_range: "0.1-30°C"
    accuracy_class: "Class B (±2%)"

  gas:
    measurement_type: "Volume"
    units: "m³"
    flow_rate_range: "0.04-160 m³/h"
    operating_pressure: "0.5-100 mbar"
    temperature_range: "-10 to +55°C"
    accuracy_class: "Class C (±3%)"

# Physical specifications
physical_specs:
  dimensions_mm: [160, 110, 85]  # L x W x H
  weight_grams: 800
  enclosure_material: "Flame retardant ABS"
  ingress_protection: "IP68"
  mounting_type: ["DIN Rail", "Surface Mount", "Pole Mount"]

  # Environmental specifications
  operating_temperature_celsius: "-25 to +70"
  storage_temperature_celsius: "-40 to +85"
  relative humidity: "5% to 95% (non-condensing)"
  altitude_limit: "2000m above sea level"

# Communication interfaces
communication:
  primary_protocol: "DLMS/COSEM"
  secondary_protocol: "Modbus RTU/TCP"
  wireless_options: ["LoRaWAN", "NB-IoT", "4G LTE", "WiFi"]

  # Wired communication
  rs485_support: true
  rs232_support: true
  ethernet_support: false
  power_line_communication: true

  # Wireless communication
  wireless_range_meters: 1000     # Line of sight
  wireless_band: ["868 MHz", "915 MHz"]
  data_rate_kbps: [0.3, 1.2, 5.4]

# Power management
power_config:
  power_source: "Utility Line"
  voltage_range: "85-265V AC"
  frequency_range: "45-65Hz"
  power_consumption_va: 8          # Typical consumption
  standby_consumption_va: 2

  # Battery backup
  battery_type: "Lithium Thionyl Chloride"
  battery_capacity_mah: 1200
  battery_life_years: 10
  backup_hours: 48                 # Hours on battery

# Measurement capabilities
measurement_specs:
  # General measurement specs
  measurement_intervals: [15, 30, 60, 300]  # seconds
  data_storage_capacity: "12 months detailed"
  load_profile_records: 184           # 6 months at 15-min intervals

  # Electricity specific
  voltage_measurement:
    range: "0-300V"
    accuracy: "±0.5%"
    resolution: "0.1V"

  current_measurement:
    range: "0-120A"
    accuracy: "±1%"
    resolution: "0.01A"

  power_measurement:
    range: "0-36kW"
    accuracy: "±1%"
    resolution: "1W"

  # Water specific
  flow_measurement:
    range: "0.015-15 m³/h"
    accuracy: "±2%"
    resolution: "0.001L"

  volume_measurement:
    range: "0-9999999.999 m³"
    accuracy: "±2%"
    resolution: "0.001L"

# Advanced features
features:
  tamper_detection:
    magnetic_tamper: true
    cover_removal_tamper: true
    reverse_current_detection: true
    voltage_tamper_detection: true
    bypass_detection: true

  load_profiling:
    intervals_available: [1, 5, 10, 15, 30, 60]  # minutes
    storage_channels: 4
    maximum_records: 1840

  power_quality:
    harmonic_analysis: true
    voltage_quality: true
    frequency_quality: true
    power_factor_measurement: true

  demand management:
    max_demand_measurement: true
    load_control_capability: true
  time_of_use_tarriff: true

# Display and interface
display:
  screen_type: "LCD"
  display_size_inches: 2.8
  backlit: true
  scroll_buttons: true
  infrared_communication: true

  # Display information
  default_display: ["Total Consumption", "Instantaneous", "Date/Time", "Meter ID"]
  scroll_speed: "5 seconds per screen"
  automatic_dimming: true

# Security features
security:
  physical_security:
    sealed_enclosure: true
    tamper_evident_seals: true
    anti-tamper_screws: true

  data_security:
    aes_encryption: true
    secure_element: true
    digital_signatures: true
    mutual_authentication: true

  access_control:
  password_protection: true
  role_based_access: true
  audit_logging: true

# Compliance and certification
compliance:
  international_standards:
    iec_standards: ["IEC 62052-11", "IEC 62056-21", "IEC 62056-53"]
    en_standards: ["EN 50470-1", "EN 50470-3"]
    ansi_standards: ["ANSI C12.1", "ANSI C12.16"]

  regional_certifications:
    ce_mark: true
    fcc_certification: true
    ul_listed: true
    csa_certified: true

  utility_compliance:
    mid_certified: true      # Measuring Instruments Directive
    oiml_recommended: true   # International Organization of Legal Metrology

# Installation and maintenance
installation:
  mounting_requirements:
    vertical_mounting: true
    vibration_resistance: "5-500Hz, 2g"
    shock_resistance: "15g, 11ms"

  environmental_requirements:
    indoor_installation: true
    outdoor_enclosure: "IP68"
    condensation_resistance: true

maintenance:
  calibration_interval: "10 years"
  self_diagnostics: true
  remote_configuration: true
  firmware_update_ota: true

  warranty:
    standard_years: 5
    extended_years: 10
    accuracy_guarantee: true

# Communication protocols
protocols:
  supported_protocols:
    primary: "DLMS/COSEM"
    secondary: ["Modbus RTU", "Modbus TCP", "ANSI C12.18", "ANSI C12.21"]
    wireless: ["LoRaWAN", "NB-IoT", "Sigfox"]

  data_formats:
    primary: "Binary DLMS"
    secondary: ["JSON", "XML", "CSV"]

# Application specific configurations
application_types:
  residential:
    typical_load: "3-10kW"
    tariff_structure: "TOU"
    display_interval: 30

  commercial:
    typical_load: "10-100kW"
    tariff_structure: "Complex TOU + Demand"
    display_interval: 15

  industrial:
    typical_load: "100-1000kW"
    tariff_structure: "Custom"
    display_interval: 5

# Regional variations
regional_configurations:
  europe:
    voltage: "230V"
    frequency: "50Hz"
    primary_protocol: "DLMS/COSEM"

  north_america:
    voltage: "120/240V"
    frequency: "60Hz"
    primary_protocol: "ANSI C12"

  asia_pacific:
    voltage: "230V"
    frequency: "50Hz"
    primary_protocol: "DLMS/COSEM"